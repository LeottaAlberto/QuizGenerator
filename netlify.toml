[build]
  publish = "public"                        # il dir con il tuo frontend statico
  functions = "netlify/functions"

# netlify.toml
[functions]
  # Usa esbuild per bundling più veloce
  node_bundler = "esbuild" 
  # Assicurati che le dipendenze vengano pacchettizzate correttamente
  external_node_modules = ["pdf-parse", "mammoth"] 
  # Imposta il timeout massimo per dare più tempo al parsing dei PDF complessi
  timeout = 30

[[redirects]]
  force = true
  from = "/api/*"
  to = "/.netlify/functions/api/:splat"
  status = 200
